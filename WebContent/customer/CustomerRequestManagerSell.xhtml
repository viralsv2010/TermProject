<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous"></link>
	<link rel="stylesheet" href="../css/custom.css"></link>
  	<title><ui:insert name="title">Manager Request for Buy</ui:insert></title>
		<script
			  src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
function showUserSelection(idFrom) {  
  if (document.getElementById){  
  var valueFrom = idFrom.value;
  console.log("Value :: " + valueFrom);
  document.getElementById('buyrequestform:manager').value = valueFrom;
  }  
} 
</script>
</head>

<body onload="registrationform.reset()">

<h:form>
                        <span><h:commandButton value="Logout" action="#{CustomerBean.logout}" styleClass="btn btn-success" /></span>
                        <span><h:commandButton value="Dashboard" action="#{CustomerBean.dashboardRedirect}" styleClass="btn btn-success" /></span>
                        <span><h:commandButton value="Profile" action="#{CustomerBean.profileRedirect}" styleClass="btn btn-success" /></span>
                        <span><h:commandButton value="Select Manager" action="#{CustomerBean.redirectManagerSelection}" styleClass="btn btn-success" /></span>
                        <span><h:commandButton value="View Balance and History" action="#{CustomerBean.redirectBalanceandHistory}" styleClass="btn btn-success" /></span>
                        <span> <h:commandButton value="Sell Stocks" action="#{CustomerBean.sellStocksRedirect}" styleClass="btn btn-success" /></span>
                        <span> <h:commandButton value="Request Manager Buy" action="#{CustomerBean.requestManagerforstockpurchasebuy}" styleClass="btn btn-success" /></span>
                        <span> <h:commandButton value="Request Manager Sell" action="#{CustomerBean.requestManagerforstockpurchasesell}" styleClass="btn btn-success" /></span>
                        <span><h:commandButton value="Watch List" action="#{CustomerBean.redirectToWatchList}" styleClass="btn btn-success" /></span>
</h:form>
<div id="header">
<h:messages style="color: red;"/>
    	<h:head> 
    		<title>Manager Request for Buy</title>
    	</h:head>

    	 <div class="modal-dialog">
    	<div class="second-container">

    	<div class="header"><h4 style="color:white">Request for Sell</h4></div>
    	<br/><br/><br/><br/>

    	<h:form id="buyrequestform">
    	<h:messages id="temp" style = "color:red;margin:8px;" />
    	
    	
			<h:dataTable style="align: center; padding-left: 50px; margin-left: 90px" value="#{CustomerBean.getSelectedManagers()}" var="u" border="1">
			
					<h:column>
			    			
			    				<f:facet name="header">ID</f:facet>
			    				
			    				
			    				<h:outputText value="#{u.id}"  />
								
			    	</h:column>  
			
					<h:column>
			    			
			    				<f:facet name="header">Manager Name</f:facet>
			    				
			    				
			    				<h:outputText value="#{u.manager}"  />
								
			    	</h:column>  
 
					<h:column>
						    <h:selectOneRadio id="selection" value="#{CustomerBean.manager}" label="Action" onclick="javascript:showUserSelection(this)">
   									<f:selectItem itemValue="#{u.manager}" name="radio" itemLabel="Customer" />
   									<p:ajax process="console" update="@form" />
   							</h:selectOneRadio>
   					</h:column> 
   								
			</h:dataTable>
	
			<div class="container">
			  <table class="table table-hover table-condensed">
			  	
			    <tbody>
			    
			      <tr>
			        <th><label for="manager">Manager ::</label></th>
			        <td><h:inputText binding="#{manager}" id="manager" value="#{CustomerBean.manager}" required="true" requiredMessage="Manage Name is required." class="form-control"  a:placeholder="Manager Name" ></h:inputText></td>
			      </tr>
			     
			    </tbody>
			    <tbody>
			 
			      <tr>
			        <th><label for="qty">Amount ::</label></th>
			        <td><h:inputText id="amount" value="#{CustomerBean.amt}" binding="#{purchaseAmount}" required="true" requiredMessage="Quanity is required." class="form-control"  a:placeholder="Amount" ></h:inputText></td>
			      </tr>
			      
			      <tr>
			      	<th></th>
			        <td><h:commandButton id="Submit" style="background:#50A7E6;color:white" value="Request For Sell Stock" action="#{CustomerBean.requestForSell(manager.value, purchaseAmount.value )}" class="btn btn-info loginmodal-submit"></h:commandButton></td>
			        
			      </tr>
			      

			    </tbody>
			  </table>
			</div>
    	</h:form>
    	</div>
    	</div>
</div>



</body>

</html>
